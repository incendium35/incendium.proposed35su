
 <html>
 <head>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/p5.js"></script>
   <script>
var radius1 = 15
var x2 = 100
var y2 = 200
var x3 = 0
var y3 = 0
var x4 = 0
var y4 = 0

var mx2 = 1
var my2 = 1
var mx3 = 1
var my3 = 1
var speed = 10
var ydirection = 0

var colorcoef = 255/800

    function setup()
    {
      createCanvas(800, 800);
      background(0);
      noStroke();
      x2 = random(0,800);
      y2 = random(0,620);
      mx2 = random(-1,1);
      ydirection = random(-1,1);
      frameRate(10)

      //creating bouncing balls that will move at equal speed everytime
      if (ydirection>0) {
        my2 = sqrt(1-mx2*mx2);
      } else {
        my2 = -sqrt(1-mx2*mx2);
      }
      x3 = x2
      x4 = x2
      y3 = y2 + 80
      y4 = y3 + 80
      mx3=mx2
      my3=my2
      mx4=mx2
      my4=my2
      }


    function draw()
    {
      //setups
      background(0,1000);
      fill(0,255,255);

      //gen ellipses
      fill(800-(x2*colorcoef),y2*colorcoef,200*mx2^2);
      ellipse(x2,y2,2*radius1,2*radius1);
      fill(800-(x3*colorcoef),y3*colorcoef,200*mx3^2);
      ellipse(x3,y3,2*radius1,2*radius1);
      fill(800-(x4*colorcoef),y4*colorcoef,200*mx4^2);
      ellipse(x4,y4,2*radius1,2*radius1);

      //2 ellipse
      x2 = x2+(mx2*speed);
      y2 = y2+(my2*speed);
      if(x2<radius1)
      {mx2 = mx2 *-1}
      if(y2<radius1)
      {my2 = my2 *-1}
      if(x2>width-radius1)
      {mx2 = mx2 *-1}
      if(y2>height-radius1)
      {my2 = -my2}

      //3 ellipse
      x3 = x3+(mx3*speed);
      y3 = y3+(my3*speed);
      if(x3<radius1)
      {mx3 = mx3 *-1}
      if(y3<radius1)
      {my3 = my3 *-1}
      if(x3>width-radius1)
      {mx3 = mx3 *-1}
      if(y3>height-radius1)
      {my3 = -my3}

      //4 ellipse
      x4 = x4+(mx4*speed);
      y4 = y4+(my4*speed);
      if(x4<radius1)
      {mx4 = mx4 *-1}
      if(y4<radius1)
      {my4 = my4 *-1}
      if(x4>width-radius1)
      {mx4 = mx4 *-1}
      if(y4>height-radius1)
      {my4 = -my4}

      //debug tools
      speed = mouseX/50
      textSize(10);
      //text(x2,10,10);
      text(frameCount,10,10);
      text(y2,10,20);
      text(mx2,10,30);
      text(my2,10,40);
      text(speed,10,50)
    }




   </script>
 </head>
 </html>
